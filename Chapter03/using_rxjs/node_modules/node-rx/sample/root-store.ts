import { ClientState, clientReducer, ClientActions, ClientEffects } from './discord';
import { NodeRx } from 'node-rx';
import * as Discord from 'discord.js';

export interface RootState {
    client: ClientState;
}

export const rootReducers = {
    client: clientReducer,
};

export class RootStore extends NodeRx<RootState> {
    constructor( initialState?: RootState ) {
        super( rootReducers, initialState );
    }

    login( token: string ) {
        this.store.dispatch( ClientActions.login(token) );
    }
    
    logout() {
        this.store.dispatch( ClientActions.logout() );
    }
} 
